{"ast":null,"code":"import _slicedToArray from \"/home/rob/personal/cra-test/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nimport { useEffect, useState } from 'react';\nvar blank = {\n  clientID: '',\n  created_at: '',\n  identities: [],\n  name: '',\n  nickname: '',\n  picture: '',\n  sub: '',\n  updated_at: '',\n  user_id: ''\n};\nexport var loadProfile = function loadProfile(auth) {\n  var _useState = useState(blank),\n      _useState2 = _slicedToArray(_useState, 2),\n      profile = _useState2[0],\n      setProfile = _useState2[1];\n\n  useEffect(function () {\n    var userProfile = auth.userProfile,\n        getProfile = auth.getProfile;\n    console.log('auth', auth);\n    debugger;\n\n    if (!auth.isAuthenticated()) {\n      return;\n    }\n\n    if (!userProfile) {\n      getProfile(function (err, profile) {\n        setProfile(profile);\n      });\n    } else {\n      setProfile(userProfile);\n    }\n  }, [auth.isAuthenticated(), auth.userProfile]);\n  return profile;\n};","map":{"version":3,"sources":["/home/rob/personal/cra-test/src/app/hooks/loadProfile.ts"],"names":["useEffect","useState","blank","clientID","created_at","identities","name","nickname","picture","sub","updated_at","user_id","loadProfile","auth","profile","setProfile","userProfile","getProfile","console","log","isAuthenticated","err"],"mappings":";AACA,SACEA,SADF,EAEEC,QAFF,QAGO,OAHP;AAKA,IAAMC,KAAuB,GAAG;AAC9BC,EAAAA,QAAQ,EAAE,EADoB;AAE9BC,EAAAA,UAAU,EAAE,EAFkB;AAG9BC,EAAAA,UAAU,EAAE,EAHkB;AAI9BC,EAAAA,IAAI,EAAE,EAJwB;AAK9BC,EAAAA,QAAQ,EAAE,EALoB;AAM9BC,EAAAA,OAAO,EAAE,EANqB;AAO9BC,EAAAA,GAAG,EAAE,EAPyB;AAQ9BC,EAAAA,UAAU,EAAE,EARkB;AAS9BC,EAAAA,OAAO,EAAE;AATqB,CAAhC;AAYA,OAAO,IAAMC,WAAW,GAAG,SAAdA,WAAc,CAACC,IAAD,EAAiC;AAAA,kBAC5BZ,QAAQ,CAAmBC,KAAnB,CADoB;AAAA;AAAA,MACnDY,OADmD;AAAA,MAC1CC,UAD0C;;AAE1Df,EAAAA,SAAS,CAAC,YAAM;AAAA,QACNgB,WADM,GACsBH,IADtB,CACNG,WADM;AAAA,QACOC,UADP,GACsBJ,IADtB,CACOI,UADP;AAEdC,IAAAA,OAAO,CAACC,GAAR,CAAY,MAAZ,EAAoBN,IAApB;AACA;;AACA,QAAI,CAACA,IAAI,CAACO,eAAL,EAAL,EAA6B;AAC3B;AACD;;AACD,QAAI,CAACJ,WAAL,EAAkB;AAChBC,MAAAA,UAAU,CAAC,UAACI,GAAD,EAAWP,OAAX,EAAyC;AAClDC,QAAAA,UAAU,CAACD,OAAD,CAAV;AACD,OAFS,CAAV;AAGD,KAJD,MAIO;AACLC,MAAAA,UAAU,CAACC,WAAD,CAAV;AACD;AACF,GAdQ,EAcN,CAACH,IAAI,CAACO,eAAL,EAAD,EAAyBP,IAAI,CAACG,WAA9B,CAdM,CAAT;AAgBA,SAAOF,OAAP;AACD,CAnBM","sourcesContent":["import { Auth0UserProfile } from 'auth0-js';\nimport {\n  useEffect,\n  useState,\n} from 'react';\n\nconst blank: Auth0UserProfile = {\n  clientID: '',\n  created_at: '',\n  identities: [],\n  name: '',\n  nickname: '',\n  picture: '',\n  sub: '',\n  updated_at: '',\n  user_id: '',\n};\n\nexport const loadProfile = (auth: any): Auth0UserProfile => {\n  const [profile, setProfile] = useState<Auth0UserProfile>(blank);\n  useEffect(() => {\n    const { userProfile, getProfile } = auth;\n    console.log('auth', auth);\n    debugger;\n    if (!auth.isAuthenticated()) {\n      return;\n    }\n    if (!userProfile) {\n      getProfile((err: any, profile: Auth0UserProfile) => {\n        setProfile(profile);\n      });\n    } else {\n      setProfile(userProfile);\n    }\n  }, [auth.isAuthenticated(), auth.userProfile])\n\n  return profile;\n}"]},"metadata":{},"sourceType":"module"}